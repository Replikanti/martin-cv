<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Martin Holý – Release orchestration · Automation</title>
  <meta name="description" content="Osobní kariérní stránka – profil, zkušenosti, projekty, dovednosti a kontakt." />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link rel="icon" href="/favicon.ico" sizes="any">
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="manifest" href="/site.webmanifest">
  <meta name="theme-color" content="#0B1F3B">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0b0d10;
      --panel: #12161b;
      --text: #e5e7eb;
      --muted: #a8b3c1;
      --brand: #7c3aed;
      --brand-2: #06b6d4;
      --ring: 0 0 0 3px rgba(124, 58, 237, .35);
      --radius: 16px;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
    }
    @media (prefers-color-scheme: light) {
      :root {
        --bg: #f7f7f9;
        --panel: #ffffff;
        --text: #0f172a;
        --muted: #475569;
        --brand: #7c3aed;
        --brand-2: #0891b2;
        --shadow: 0 8px 20px rgba(2,6,23,.08);
      }
    }

    *, *::before, *::after { box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body {
      margin: 0;
      background: radial-gradient(1200px 800px at 80% -10%, rgba(124,58,237,.12), transparent 55%), radial-gradient(900px 600px at 10% 110%, rgba(6,182,212,.12), transparent 55%), var(--bg);
      color: var(--text);
      font: 16px/1.6 system-ui, -apple-system, 'Segoe UI', 'Inter', Roboto, Helvetica, Arial, 'Apple Color Emoji', 'Segoe UI Emoji';
    }
    a { color: inherit; text-decoration: none; }
    img { max-width: 100%; display: block; }
    .container { width: min(1120px, 92%); margin: 0 auto; }
    .grid { display: grid; gap: 24px; }

    header {
      position: sticky;
      top: 0;
      z-index: 50;
      backdrop-filter: saturate(140%) blur(10px);
      background: color-mix(in oklab, var(--bg) 85%, transparent);
      border-bottom: 1px solid color-mix(in oklab, var(--text) 12%, transparent);
    }
    .nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      height: 64px;
    }
    .brand {
      display: flex;
      align-items: center;
      gap: 12px;
      font-weight: 700;
      letter-spacing: .2px;
    }
    .logo {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: grid;
      place-items: center;
      font-weight: 800;
      background: linear-gradient(135deg, var(--brand), var(--brand-2));
      box-shadow: var(--shadow);
    }
    nav ul {
      list-style: none;
      display: flex;
      gap: 18px;
      padding: 0;
      margin: 0;
    }
    nav a {
      opacity: .85;
      padding: 8px 10px;
      border-radius: 10px;
    }
    nav a:focus, nav a:hover {
      outline: none;
      box-shadow: var(--ring);
      background: color-mix(in oklab, var(--panel) 92%, transparent);
      opacity: 1;
    }
    .actions {
      display: flex;
      gap: 10px;
      align-items: center;
    }
    .btn {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 10px 14px;
      border-radius: 12px;
      border: 1px solid transparent;
      background: color-mix(in oklab, var(--panel) 85%, transparent);
      color: var(--text);
      cursor: pointer;
    }
    .btn:hover {
      border-color: color-mix(in oklab, var(--text) 12%, transparent);
    }
    .btn.primary {
      background: linear-gradient(135deg, var(--brand), var(--brand-2));
      font-weight: 600;
    }

    .hero-inner {
      display: grid;
      grid-template-columns: minmax(0,1.6fr) minmax(0,1fr);
      gap: 32px;
      align-items: center;
    }
    .hero-aside {
      display: grid;
      gap: 12px;
      align-content: start;
    }
    .kicker {
      color: var(--muted);
      font-weight: 700;
      letter-spacing: .4px;
      text-transform: uppercase;
      font-size: .85rem;
    }
    .gradtext {
      background: linear-gradient(90deg, var(--brand), var(--brand-2));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }
    .h1-underline {
      height: 4px;
      width: 140px;
      background: linear-gradient(90deg, var(--brand), var(--brand-2));
      border-radius: 999px;
      margin: 12px 0 8px;
    }
    h1 {
      font-size: clamp(32px, 5vw, 56px);
      line-height: 1.1;
      margin: 10px 0 12px;
    }
    .lead {
      font-size: clamp(16px, 1.7vw, 20px);
      color: var(--muted);
      margin-bottom: 22px;
    }
    .lead.accent {
      background: linear-gradient(90deg, var(--brand), var(--brand-2));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }
    .hero-cta {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }
    .avatar {
      width: 180px;
      aspect-ratio: 1;
      border-radius: 24px;
      overflow: hidden;
      box-shadow: var(--shadow);
      border: 1px solid color-mix(in oklab, var(--text) 12%, transparent);
    }
    .avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .hero-card {
      background: linear-gradient(180deg, color-mix(in oklab, var(--panel) 70%, transparent), color-mix(in oklab, var(--panel) 96%, transparent));
      padding: 24px;
      border-radius: var(--radius);
      display: grid;
      gap: 12px;
      border: 1px solid color-mix(in oklab, var(--text) 10%, transparent);
    }

    section {
      padding: 64px 0;
    }
    .section-title {
      font-size: clamp(22px, 2.6vw, 32px);
      margin: 0 0 8px;
    }
    .section-sub {
      color: var(--muted);
      margin-top: 0;
    }

    .cards {
      display: grid;
      gap: 18px;
      grid-template-columns: 1fr;
    }
    @media (min-width: 700px) {
      .cards {
        grid-template-columns: repeat(2, 1fr);
      }
    }
    @media (min-width: 1400px) {
      .cards {
        grid-template-columns: repeat(3, 1fr);
      }
    }
    .card {
      background: var(--panel);
      border: 1px solid color-mix(in oklab, var(--text) 10%, transparent);
      border-radius: var(--radius);
      padding: 18px;
      box-shadow: var(--shadow);
      transition: transform .2s ease;
    }
    .card:hover {
      transform: translateY(-2px);
    }
    .card h3 {
      margin: 6px 0 4px;
      font-size: 18px;
    }
    .card p {
      margin: 0;
      color: var(--muted);
      font-size: .95rem;
    }

    .thumb {
      aspect-ratio: 16/9;
      border-radius: var(--radius);
      display: grid;
      place-items: center;
      font-weight: 600;
      letter-spacing: .3px;
      color: var(--text);
      margin-bottom: 10px;
      border: 1px solid color-mix(in oklab, var(--text) 10%, transparent);
    }
    .thumb--cicd {
      background: linear-gradient(135deg, #1f2937, #4b5563);
    }
    .thumb--k8s {
      background: linear-gradient(135deg, #0ea5e9, #6366f1);
    }
    .thumb--n8n {
      background: linear-gradient(135deg, #10b981, #06b6d4);
    }
    .thumb--backstage {
      background: linear-gradient(135deg, #7c3aed, #06b6d4);
    }

    .timeline {
      position: relative;
      margin-left: 12px;
    }
    .timeline::before {
      content: '';
      position: absolute;
      left: 12px;
      top: 0;
      bottom: 0;
      width: 2px;
      background: color-mix(in oklab, var(--text) 14%, transparent);
    }
    .step {
      position: relative;
      padding-left: 40px;
      margin: 24px 0;
    }
    .step::before {
      content: '';
      position: absolute;
      left: 4px;
      top: 5px;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--brand), var(--brand-2));
      box-shadow: 0 0 0 4px color-mix(in oklab, var(--text) 8%, transparent);
    }
    .step h4 {
      margin: 0;
    }
    .badge {
      display: inline-block;
      padding: 4px 8px;
      font-size: 12px;
      border-radius: 999px;
      background: color-mix(in oklab, var(--text) 18%, transparent);
      color: var(--text);
      border: 1px solid color-mix(in oklab, var(--text) 22%, transparent);
    }
    .badges {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      margin-top: 10px;
    }

    .skills {
      display: grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 12px;
    }
    .skill {
      grid-column: span 6;
      background: var(--panel);
      border-radius: 999px;
      padding: 8px 12px;
      border: 1px solid color-mix(in oklab, var(--text) 10%, transparent);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .bar {
      height: 8px;
      border-radius: 999px;
      background: color-mix(in oklab, var(--text) 10%, transparent);
      overflow: hidden;
      flex: 1;
      margin-left: 12px;
    }
    .bar i {
      display: block;
      height: 100%;
      width: var(--value, 60%);
      background: linear-gradient(90deg, var(--brand), var(--brand-2));
    }

    form {
      display: grid;
      gap: 12px;
    }
    label {
      font-size: 14px;
      color: var(--muted);
    }
    input, textarea, select {
      width: 100%;
      padding: 12px 14px;
      border-radius: 12px;
      border: 1px solid color-mix(in oklab, var(--text) 12%, transparent);
      background: color-mix(in oklab, var(--panel) 92%, transparent);
      color: var(--text);
    }
    input:focus, textarea:focus, select:focus {
      outline: none;
      box-shadow: var(--ring);
      border-color: transparent;
    }
    textarea {
      min-height: 120px;
      resize: vertical;
    }
    .slots {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 8px;
    }
    .slot {
      padding: 10px 12px;
      border-radius: 10px;
      border: 1px solid color-mix(in oklab, var(--text) 14%, transparent);
      background: color-mix(in oklab, var(--panel) 85%, transparent);
      cursor: pointer;
      color: var(--text);
      font-weight: 600;
    }
    .slot[aria-pressed="true"], .slot:focus-visible {
      box-shadow: var(--ring);
      border-color: transparent;
    }

    .notice {
      margin-top: 14px;
      padding: 14px 16px;
      border-radius: 12px;
      background: color-mix(in oklab, var(--panel) 90%, transparent);
      border: 1px solid color-mix(in oklab, var(--brand) 35%, transparent);
      box-shadow: var(--shadow);
    }
    .notice--success {
      background: color-mix(in oklab, #10b981 8%, var(--panel) 92%);
      border-color: #10b981;
      color: var(--text);
    }
    .notice--error {
      background: color-mix(in oklab, #ef4444 8%, var(--panel) 92%);
      border-color: #ef4444;
      color: var(--text);
    }

    footer {
      padding: 36px 0 72px;
      color: var(--muted);
      border-top: 1px solid color-mix(in oklab, var(--text) 12%, transparent);
    }
    .social {
      display: flex;
      gap: 12px;
    }

    .modal {
      position: fixed;
      inset: 0;
      display: none;
      place-items: center;
      background: rgba(0,0,0,.45);
      z-index: 100;
    }
    .modal[open] {
      display: grid;
    }
    .dialog {
      width: min(360px, 92vw);
      background: var(--panel);
      border: 1px solid color-mix(in oklab, var(--text) 12%, transparent);
      border-radius: 16px;
      box-shadow: var(--shadow);
    }
    .cal-head {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 14px;
      border-bottom: 1px solid color-mix(in oklab, var(--text) 10%, transparent);
    }
    .cal-title {
      font-weight: 600;
    }
    .cal-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 6px;
      padding: 12px;
    }
    .cal-day, .cal-dow {
      text-align: center;
      padding: 10px 0;
      border-radius: 10px;
    }
    .cal-dow {
      color: var(--muted);
      font-size: 12px;
    }
    .cal-day {
      border: 1px solid color-mix(in oklab, var(--text) 12%, transparent);
      background: color-mix(in oklab, var(--panel) 85%, transparent);
      cursor: pointer;
      color: var(--text);
      font-weight: 600;
    }
    .cal-day:hover, .cal-day:focus-visible {
      box-shadow: var(--ring);
      border-color: transparent;
    }
    .cal-day:disabled {
      opacity: .35;
      cursor: not-allowed;
    }
    .cal-actions {
      display: flex;
      justify-content: space-between;
      padding: 12px;
      gap: 8px;
      border-top: 1px solid color-mix(in oklab, var(--text) 10%, transparent);
    }
    .iconbtn {
      background: color-mix(in oklab, var(--panel) 90%, transparent);
      border: 1px solid color-mix(in oklab, var(--text) 12%, transparent);
      border-radius: 10px;
      padding: 8px 10px;
      cursor: pointer;
    }
    .iconbtn:hover, .iconbtn:focus-visible {
      box-shadow: var(--ring);
      border-color: transparent;
    }

    .muted {
      color: var(--muted);
    }
    .row {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      align-items: center;
    }
    .hidden {
      display: none !important;
    }

    .suggestions {
      position: absolute;
      background: var(--panel);
      border: 1px solid color-mix(in oklab, var(--text) 12%, transparent);
      border-radius: 12px;
      margin-top: 4px;
      max-height: 200px;
      overflow-y: auto;
      z-index: 10;
      box-shadow: var(--shadow);
    }
    .suggestion-item {
      padding: 10px 14px;
      cursor: pointer;
      color: var(--text);
      border-bottom: 1px solid color-mix(in oklab, var(--text) 8%, transparent);
    }
    .suggestion-item:last-child {
      border-bottom: none;
    }
    .suggestion-item:hover {
      background: color-mix(in oklab, var(--text) 8%, transparent);
    }

    a:hover, a:focus-visible {
      text-decoration: underline;
      text-underline-offset: 2px;
    }
    :focus-visible {
      outline: 2px solid color-mix(in oklab, var(--brand) 70%, var(--brand-2) 30%);
      outline-offset: 2px;
    }

    @media (prefers-contrast: more) {
      .lead.accent {
        color: var(--text);
        -webkit-text-fill-color: var(--text);
        background: none;
      }
    }
    @media (forced-colors: active) {
      .lead.accent {
        color: CanvasText;
        background: none;
      }
    }

    @media (max-width: 900px) {
      .hero-inner {
        grid-template-columns: 1fr;
      }
      .skills .skill {
        grid-column: span 12;
      }
      .avatar {
        width: 140px;
      }
      #contact .grid {
        grid-template-columns: 1fr !important;
      }
    }

    @media (prefers-reduced-motion: reduce) {
      * {
        animation-duration: 0.001ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.001ms !important;
      }
      html {
        scroll-behavior: auto;
      }
    }

    @media print {
      header, .hero-cta a[href*="contact"], .btn.primary {
        display: none !important;
      }
      body {
        background: #fff;
      }
      .card, .hero-card {
        break-inside: avoid;
      }
    }
  /* Fallback pro modální kalendář */
  .modalopen { display: grid !important; }
  
  /* Fallback pro modální kalendář */
  .modalopen { display: grid !important; }

  /* Silný override pro otevřený modal */
  .modal.modalopen {
    display: grid !important;
    visibility: visible !important;
    opacity: 1 !important;
    pointer-events: auto !important;
  }

  /* Silný override pro otevřený modal */
  .modal.modalopen {
    display: grid !important;
    visibility: visible !important;
    opacity: 1 !important;
    pointer-events: auto !important;
  }
  /* Silný override pro otevřený modal */
  .modal.modalopen {
    display: grid !important;
    visibility: visible !important;
    opacity: 1 !important;
    pointer-events: auto !important;
  }

  /* Calendar UX: selected day highlight + strong modal override */
  .cal-day.selected { outline: 2px solid currentColor; border-color: transparent; }
  .modal.modalopen {
    display: grid !important;
    visibility: visible !important;
    opacity: 1 !important;
    pointer-events: auto !important;
  }

  /* === Error UI (global) === */
  .error-box {
    border: 2px solid #ef4444;
    background: color-mix(in oklab, #ef4444 10%, transparent);
    border-radius: 14px;
    padding: 14px;
    box-shadow: 0 6px 14px rgba(239, 68, 68, .15);
  }
  .error-box strong { display:block; margin-bottom: 6px; }
  .error-actions { display:flex; gap:10px; flex-wrap:wrap; margin-top: 8px; }
  .btn-ghost {
    display:inline-flex; align-items:center; gap:8px;
    padding: 10px 12px; border-radius: 12px; text-decoration: none;
    border: 1px solid currentColor; font-weight: 600;
    background: color-mix(in oklab, var(--panel) 92%, transparent);
  }
  .btn-mail { color:#1d4ed8; border-color:#1d4ed8; }
  .btn-tel  { color:#16a34a; border-color:#16a34a; }
  .btn-ghost svg { width:18px; height:18px; display:block; }
</style>
</head>
<body>
  <header>
    <div class="container">
      <nav class="nav">
        <a class="brand" href="#top" aria-label="Domů">
          <span class="logo">MH</span>
          <span>Martin Holý</span>
        </a>
        <nav aria-label="Hlavní navigace">
          <ul>
            <li><a href="#about">O mně</a></li>
            <li><a href="#experience">Zkušenosti</a></li>
            <li><a href="#projects">Projekty</a></li>
            <li><a href="#skills">Dovednosti</a></li>
            <li><a href="#contact">Kontakt</a></li>
          </ul>
        </nav>
        <div class="actions">
          <a class="btn primary" href="#contact">Domluvit schůzku</a>
        </div>
      </nav>
    </div>
  </header>

  <main id="top">
    <section class="hero">
      <div class="container hero-inner">
        <div>
          <div class="kicker"><span class="gradtext">Release orchestration · Internal systems · Automation · Processes</span></div>
          <h1>Zlepšuji interní systémy a procesy a pomáhám, aby releasy byly připravené, koordinované a auditovatelné.</h1>
          <div class="h1-underline" aria-hidden="true"></div>
          <p class="lead accent">17+ let v IT. Interní systémy a procesy, automatizace a orchestrace – zkušenost i s releasy v bankovním prostředí (CAB, řízení změn a auditovatelné releasy).</p>
          <ul class="muted" style="margin:0 0 14px 18px">
            <li>Interní systémy Jira/Notion, Backstage, n8n – standardizace · automatizace</li>
            <li>Leadership procesy – vedení 6 lidí, mapování a zjednodušování postupů</li>
            <li>Orchestrace releasů TRAIN → PREPROD → PROD – go/no‑go · rollback · readiness</li>
            <li>Koordinace kapacit a komunikace napříč týmy</li>
          </ul>
          <div class="hero-cta">
            <a class="btn primary" href="#projects">Moje práce</a>
            <a class="btn" href="MartinHoly_ReleaseOrchestrationandSystems.pdf" download>Stáhnout CV (PDF)</a>
          </div>
        </div>
        <div class="hero-aside">
          <figure class="avatar" aria-label="Profilová fotografie – místo pro budoucí portrét">
            <div style="width:100%;height:100%;display:grid;place-items:center;font-weight:800;letter-spacing:.5px;background:linear-gradient(135deg,var(--brand),var(--brand-2));color:#fff">MH</div>
          </figure>
          <div class="hero-card">
            <div class="row">
              <span class="badge">Plný úvazek</span>
              <span class="badge">Praha/Remote</span>
              <span class="badge">Orchestrace · procesy</span>
            </div>
            <p class="muted" style="margin:4px 0 0">Hledám roli se zaměřením na orchestraci releasů a automatizaci procesů – prioritu dávám koordinaci a zlepšování procesů před detailním kódováním.</p>
          </div>
        </div>
      </div>
    </section>

    <section id="about">
      <div class="container">
        <h2 class="section-title">O mně</h2>
        <div class="cards">
          <div class="card">
            <h3>Co přináším</h3>
            <p>Systematický přístup k orchestraci a nasazování. Umím připravit postupy, sladit očekávání a doručit nasazení bez překvapení – s důrazem na kvalitu a dohledatelnost. Současně se zaměřuji na interní systémy Jira/Notion, Backstage, n8n – sjednocení postupů, auditovatelnost a automatizace.</p>
          </div>
          <div class="card">
            <h3>Leadership</h3>
            <p><strong>Hands‑on vedení</strong> 6 techniků (junior → senior) – nastavování rituálů a priorit, mentoring, koordinace práce · incident · change management.</p>
          </div>
          <div class="card">
            <h3>Stack domény</h3>
            <p>Kubernetes, Istio, Docker/Swarm, CI/CD GitHub Actions, IaC Ansible · AWS CDK, observabilita Prometheus, AWS CloudWatch, n8n. Domény: deployment platformy, provoz, procesní automatizace.</p>
          </div>
          <div class="card">
            <h3>Nástroje spolupráce</h3>
            <p><strong>Organizace:</strong> Jira, Confluence, Notion<br><strong>Komunikace:</strong> Slack, MS Teams<br><strong>Repozitáře:</strong> GitHub (vlastním organizaci), Bitbucket (uživatelská role)<br><strong>MS Office:</strong> Excel – plánování a reporting releasů</p>
          </div>
          <div class="card">
            <h3>Spolupráce · ceremonie</h3>
            <p>Scrum of Scrums, ranní standupy v Alma Career, demo se stakeholdery – úzká spolupráce s vývojem, provozem, QA a architekturou.</p>
          </div>
          <div class="card">
            <h3>Release highlights – zkušenosti</h3>
            <ul>
              <li>Zkušenost s podílením se na koordinaci releasů – <strong>alokace kapacit</strong> a nasazování <strong>TRAIN → PREPROD → PROD</strong>.</li>
              <li><strong>CAB</strong> – zkušenost s účastí a hlasováním (schválení/zamítnutí (approve/decline)), technický kontext, rizika a připravenost releasu.</li>
              <li>Příprava nasazení – datové změny, <strong>Oracle WebLogic</strong>, <strong>PL/SQL</strong>, <strong>MSI</strong> deployment.</li>
              <li>post‑release podpora (aftercare) – monitoring, incidenty, <strong>smoke testy</strong>, rollback podle plánu.</li>
              <li>Zvyklý na mimo servisní okna a krátké odstávky s jasnou komunikací.</li>
            </ul>
          </div>
          <div class="card">
            <h3>CAB (Change Advisory Board)</h3>
            <p>Mám zkušenost s účastí a hlasováním v CAB – schvaloval/zamítal jsem požadované změny, poskytoval technický kontext a vyhodnocoval rizika a připravenost releasu.</p>
          </div>
          <div class="card">
            <h3>Bankovní prostředí</h3>
            <p>Zkušenost s požadavky na stabilitu, auditovatelnost nasazení a provozní disciplínu.</p>
          </div>
          <div class="card">
            <h3>Certifikace</h3>
            <ul>
              <li><strong>ISTQB Foundation</strong> (2017)</li>
              <li><strong>ITIL v3 Foundation</strong> (2017)</li>
            </ul>
          </div>
          <div class="card">
            <h3>Jazyky</h3>
            <ul>
              <li>Čeština - rodilý mluvčí</li>
              <li>Angličtina - B2</li>
              <li>Němčina - A2</li>
            </ul>
          </div>
          <div class="card">
            <h3>Reference · na vyžádání</h3>
            <p class="muted">Kontakty poskytnu po domluvě.</p>
          </div>
        </div>
      </div>
    </section>

    <section id="experience">
      <div class="container">
        <h2 class="section-title">Zkušenosti</h2>
        <p class="section-sub">17+ let v IT, postup od podpory po vedení týmů a budování platforem.</p>
        <div class="timeline" aria-label="Kariérní timeline">
          <article class="step">
            <h4>Automation Engineer · Alma Career Czechia s.r.o. (dříve LMC)</h4>
            <div class="row muted"><span>09/2018 – současnost</span><span>Produktová/platformní role</span></div>
            <ul>
              <li>Navrhl a provozoval jsem deployment platformu – selfservice, jednotné pipelines.</li>
              <li>Zavedl jsem Kubernetes · Istio, standardizoval deployment a traffic management.</li>
              <li>Zajišťoval jsem plynulý průběh nasazování na <strong>non‑prod (DEV/DEVEL)</strong> i <strong>PROD</strong> prostředí.</li>
              <li>V <strong>n8n</strong> jsem implementoval workflowy pro <strong>onboarding/offboarding</strong> a <strong>reporting využití GitHub Copilota</strong> – podklady pro plánování rozpočtu/licencí.</li>
              <li>Adopce AI/LLM – využil jsem <strong>Claude Sonnet</strong> pro pair‑coding a dokumentaci v <strong>Backstage</strong> – pomohlo mi to při psaní <strong>AWS CDK</strong> (IaC pro infrastrukturu v AWS) a při přípravě podkladů k releasu.</li>
              <li>Byl jsem součástí týmu <strong>SW architektů</strong>.</li>
              <li>Účastnil jsem se ranních standupech – úzce jsem komunikoval s <strong>vývojem, provozem, testery a architekty</strong>.</li>
            </ul>
          </article>
          <article class="step">
            <h4>DevOps Team Lead · Home Credit International a.s.</h4>
            <div class="row muted"><span>2017 – 06/2018</span><span>Vedoucí týmu DevOps</span></div>
            <ul>
              <li>Staral jsem se o prostředí <strong>DEV</strong> a <strong>UAT</strong>.</li>
              <li>Budování infrastruktury pro expanzi Air Bank v zahraničí.</li>
              <li>Provoz a automatizace – VM, Docker, Docker Swarm, Kubernetes · Istio.</li>
              <li>Nastavení CI/CD, monitoring a incident management napříč týmy.</li>
              <li>Nastavil a hlídal jsem integrační testy v <strong>Jenkins</strong> a <strong>Cucumber</strong> – reportoval jsem bugy vývojům a ladil infrastrukturu i deployment plány (Docker Swarm · Kubernetes).</li>
              <li>Účastnil jsem se dem a operativně pomáhal řešit problémy během nich.</li>
              <li>Účast na <strong>Scrum of Scrums</strong> a <strong>ranních standupechech</strong> – úzká spolupráce s vývojem, provozem, testery a architekty.</li>
            </ul>
          </article>
          <article class="step">
            <h4>Team Lead Application Support · Home Credit International a.s.</h4>
            <div class="row muted"><span>2013 – 2017</span><span>6 lidí (junior → senior)</span></div>
            <ul>
              <li>Vedl jsem tým aplikačních specialistů, nastavil procesy a metriky SLA/OLA, reporting.</li>
              <li>Řídil jsem plnění service request a katalogizoval část SR pro zrychlené odbavení.</li>
              <li>Přebral a rozšířil jsem automatizaci nasazování na <strong>TRAIN · UAT/školení</strong> prostředí – část automatů jsem doprogramoval.</li>
              <li>Podílel jsem se na koordinaci nasazení – alokoval jsem kapacity a se svým týmem jsme nasazovali na <strong>PREPROD</strong> (ověření postupu) a následně na <strong>PROD</strong> v mimo servisní okna s go/no‑go rozhodnutím.</li>
            </ul>
          </article>
          <article class="step">
            <h4>Senior Application Support · Home Credit International a.s.</h4>
            <div class="row muted"><span>2012 – 2013</span><span>Provoz · incidenty</span></div>
            <ul>
              <li>Kromě incident managementu jsem plnil service requesty a ze vzorů vytvářel <strong>RfC</strong> pro vývoj.</li>
              <li>Prováděl jsem manuální <strong>smoke testy</strong> po nasazeních.</li>
              <li>Nasazoval jsem <strong>datové změny</strong> i celé releasy serverových aplikací na <strong>Oracle WebLogic</strong>.</li>
              <li>Část aplikační logiky jsem nasazoval jako <strong>Oracle DB PL/SQL</strong> procedury v téže RDBMS.</li>
              <li>Distribuoval jsem MSI balíky tenkých klientů na Windows stanicích.</li>
              <li>Prováděl jsem nasazení na <strong>TRAIN</strong> · UAT/školení a <strong>PREPROD</strong> – a po úspěchu následoval <strong>PROD</strong> release s go/no‑go od zákazníka i release managera.</li>
            </ul>
          </article>
          <article class="step">
            <h4>IBM – dohled a správa server/infrastruktury pro ABB (USA/CA · APAC)</h4>
            <div class="row muted"><span>2010 – 2012</span><span>Monitoring · správa</span></div>
            <ul>
              <li>Provozní dohled, správa IBM serverů a infrastruktury pro enterprise prostředí.</li>
            </ul>
          </article>
          <article class="step">
            <h4>Technical Support · AVG</h4>
            <div class="row muted"><span>2008 – 2010</span><span>Začátky v IT</span></div>
            <ul>
              <li>První zkušenosti s komunikací se zákazníky a řešením problémů.</li>
            </ul>
          </article>
        </div>
      </div>
    </section>

    <section id="projects">
      <div class="container">
        <h2 class="section-title">Projekty</h2>
        <p class="section-sub">Ukázky práce zaměřené na automatizaci, orchestraci a deployment.</p>
        <div class="cards">
          <article class="card">
            <div class="thumb thumb--cicd" aria-hidden="true">CI/CD · Deployment platforma</div>
            <h3>Deployment platforma – Alma Career</h3>
            <p>Navrhl a provozoval jsem selfservice nasazování se standardizovanými pipelines, auditovatelnost a rollbacky. Zrychlil jsem lead‑time a snížil chybovost releasů.</p>
            <div class="badges">
              <span class="badge">CI/CD</span>
              <span class="badge">Audit trail</span>
              <span class="badge">Rollback</span>
            </div>
          </article>
          <article class="card">
            <div class="thumb thumb--k8s" aria-hidden="true">Kubernetes · Istio</div>
            <h3>Kubernetes · Istio rollout</h3>
            <p>Migroval jsem služby na K8s, nastavil traffic shaping přes Istio a zavedl canary/blue‑green strategie i standardizovanou observabilitu.</p>
            <div class="badges">
              <span class="badge">Kubernetes</span>
              <span class="badge">Istio</span>
              <span class="badge">Canary</span>
              <span class="badge">Blue‑green</span>
            </div>
          </article>
          <article class="card">
            <div class="thumb thumb--n8n" aria-hidden="true">n8n · Onboarding/Offboarding</div>
            <h3>n8n workflow – onboarding/offboarding · Copilot reporting</h3>
            <p>V n8n jsem navrhl a zprovoznil workflowy pro onboarding a offboarding uživatelů a automatizoval <strong>reporting využití GitHub Copilota</strong> – přehledy pro vedení a rozpočtování/licencování.</p>
            <div class="badges">
              <span class="badge">n8n</span>
              <span class="badge">Onboarding/Offboarding</span>
              <span class="badge">Reporting</span>
            </div>
          </article>
          <article class="card">
            <div class="thumb thumb--backstage" aria-hidden="true">Backstage · LLM</div>
            <h3>LLM pro dokumentaci v Backstage</h3>
            <p>Využil jsem Claude Sonnet pro pair‑coding a generování dokumentace v Backstage service katalogu – pomohl mi také při psaní <strong>AWS CDK</strong> (IaC pro infrastrukturu v AWS) a při přípravě podkladů k releasům (release notes, shrnutí změn).</p>
            <div class="badges">
              <span class="badge">Claude Sonnet</span>
              <span class="badge">Backstage</span>
              <span class="badge">AWS CDK</span>
              <span class="badge">Dokumentace</span>
            </div>
          </article>
        </div>
      </div>
    </section>

    <section id="skills">
      <div class="container">
        <h2 class="section-title">Dovednosti</h2>
        <p class="section-sub">Release/Change komunikace + potřebný technický základ – orientační úrovně.</p>
        <div class="skills">
          <div class="skill"><span>Release planning · change kalendář</span><div class="bar"><i style="--value: 88%"></i></div></div>
          <div class="skill"><span>CAB účast · schvalování (schválení/zamítnutí (approve/decline))</span><div class="bar"><i style="--value: 86%"></i></div></div>
          <div class="skill"><span>Go/No‑Go · rollback · readiness</span><div class="bar"><i style="--value: 84%"></i></div></div>
          <div class="skill"><span>UAT/Training · PREPROD připravenost</span><div class="bar"><i style="--value: 82%"></i></div></div>
          <div class="skill"><span>Komunikace · stakeholder management</span><div class="bar"><i style="--value: 88%"></i></div></div>
          <div class="skill"><span>Incident/Change (ITIL) · aftercare</span><div class="bar"><i style="--value: 82%"></i></div></div>
          <div class="skill"><span>Dokumentace – Notion · Backstage</span><div class="bar"><i style="--value: 80%"></i></div></div>
          <div class="skill"><span>Jira – workflow · reporting</span><div class="bar"><i style="--value: 86%"></i></div></div>
          <div class="skill"><span>CI/CD – GitHub Actions</span><div class="bar"><i style="--value: 86%"></i></div></div>
          <div class="skill"><span>Jenkins · Cucumber (integrační testy)</span><div class="bar"><i style="--value: 72%"></i></div></div>
          <div class="skill"><span>Kubernetes · Istio</span><div class="bar"><i style="--value: 78%"></i></div></div>
          <div class="skill"><span>Docker · Swarm</span><div class="bar"><i style="--value: 76%"></i></div></div>
          <div class="skill"><span>Ansible roles</span><div class="bar"><i style="--value: 82%"></i></div></div>
          <div class="skill"><span>AWS CDK (IaC)</span><div class="bar"><i style="--value: 60%"></i></div></div>
          <div class="skill"><span>Observabilita – AWS CloudWatch · Prometheus</span><div class="bar"><i style="--value: 80%"></i></div></div>
        </div>
      </div>
    </section>

    <section id="contact">
      <div class="container">
        <h2 class="section-title">Kontakt</h2>
        <p id="contactSub" class="section-sub">Vyberte remote/onsite a volný slot – zbytek zařídí automatizace.</p>
        <form id="contactForm">
          <div class="grid" style="grid-template-columns: 1fr 1fr; gap: 12px">
            <div>
              <label for="name">Jméno</label>
              <input id="name" name="name" autocomplete="name" required>
            </div>
            <div>
              <label for="email">Email</label>
              <input id="email" name="email" type="email" autocomplete="email" required>
            </div>
          </div>
          <div>
            <label for="phone">Telefonní číslo</label>
            <input id="phone" name="phone" type="tel" autocomplete="tel" required>
          <div>
            <label for="company">Název firmy</label>
            <input id="company" name="company" type="text" autocomplete="organization" required>
          </div>
          </div>
          <div class="grid" style="grid-template-columns: 1fr 1fr; gap: 12px">
            <div>
              <label for="mode">Forma setkání</label>
              <select id="mode" name="mode" required>
                <option value="remote" selected>Remote (Google Meet)</option>
                <option value="onsite">Onsite (Praha)</option>
              </select>
            </div>
            <div>
              <label for="date">Preferované datum</label>
              <input id="date" name="date" type="text" inputmode="none" placeholder="rrrr-mm-dd" autocomplete="off" required readonly>
            </div>
          </div>
          <div id="onsiteGroup" class="hidden" style="position: relative">
            <label for="location">Místo schůzky</label>
            <input id="location" name="location" placeholder="Začněte psát adresu..." autocomplete="off">
            <div id="locationSuggestions" class="suggestions hidden"></div>
          </div>
          <div>
            <label>Volné časové sloty</label>
            <div id="slots" class="slots" role="listbox" aria-label="Dostupné termíny"></div>
            <input type="hidden" id="slot" name="slot" required>
          </div>
          <div>
            <label for="message">Zpráva</label>
            <textarea id="message" name="message" placeholder="Krátký kontext, scope a očekávání" required></textarea>
          </div>
          <input type="text" id="homepage" name="homepage" class="hidden" tabindex="-1" autocomplete="off">
          <div class="row">
            <button class="btn primary" type="submit">Odeslat</button>
            <span id="formStatus" class="muted" role="status" aria-live="polite"></span>
          </div>
        </form>
        <div id="formThanks" class="notice notice--success hidden" role="status" aria-live="polite">
          <strong>Děkuji!</strong> Zpráva byla odeslána. Potvrzení s detaily termínu dorazí emailem do 5 minut.
        </div>
        <div id="formError" class="notice notice--error hidden" role="alert" aria-live="assertive">
          <strong>Chyba!</strong> Nepodařilo se odeslat zprávu. Zkuste to prosím znovu nebo mě kontaktujte přímo emailem.
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container row" style="justify-content: space-between">
      <div>© <span id="year"></span> Martin Holý · <a href="#top">Zpět nahoru ↑</a></div>
    </div>
  </footer>

  <div id="dateModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="calTitle">
    <div class="dialog">
      <div class="cal-head">
        <button class="iconbtn" type="button" id="calPrev" aria-label="Předchozí měsíc">◀</button>
        <div id="calTitle" class="cal-title">Výběr data</div>
        <button class="iconbtn" type="button" id="calNext" aria-label="Další měsíc">▶</button>
      </div>
      <div class="cal-grid" id="calGridDOW" aria-hidden="true"></div>
      <div class="cal-grid" id="calGrid"></div>
      <div class="cal-actions">
        <button class="btn" type="button" id="calCancel">Zrušit</button>
        <button class="btn primary" type="button" id="calToday">Dnes</button>
      </div>
    </div>
  </div>

  <script>
(function(){
  function ensureErrorBox(){
    var box = document.getElementById('formError');
    if (!box) {
      var c = document.getElementById('contact') || document.body;
      box = document.createElement('div');
      box.id = 'formError';
      box.className = 'notice notice--error';
      c.appendChild(box);
    }
    return box;
  }
  function esc(s){ return (s||'').replace(/[&<>"']/g, m=>({ '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m])); }

  window.hideGlobalError = function(){
    var box = document.getElementById('formError');
    if (box) {
      box.classList.add('hidden');
      box.innerHTML = '';
    }
  };

  window.showGlobalError = function(reason){
    var box = ensureErrorBox();
    box.classList.remove('hidden');
    box.innerHTML =
      '<div class="error-box" role="alert" aria-live="assertive">' +
      '  <strong>Oops, něco se nepovedlo.</strong>' +
      (reason ? ('<div class="muted" style="margin:.25rem 0 .5rem 0;">'+ esc(reason) +'</div>') : '') +
      '  <div class="error-actions">' +
      '    <a class="btn-ghost btn-mail" href="mailto:mholy1983@gmail.com">' +
      '      <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M20 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Zm0 4-8 5L4 8V6l8 5 8-5Z"/></svg>' +
      '      Napište mi' +
      '    </a>' +
      '    <a class="btn-ghost btn-tel" href="tel:+420792305456">' +
      '      <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M6.6 10.8a15.1 15.1 0 0 0 6.6 6.6l2.2-2.2a1 1 0 0 1 1-.25 11.6 11.6 0 0 0 3.6.6 1 1 0 0 1 1 1v3.7a1 1 0 0 1-1 1A17.6 17.6 0 0 1 2.5 5a1 1 0 0 1 1-1H7a1 1 0 0 1 1 1 11.6 11.6 0 0 0 .6 3.6 1 1 0 0 1-.25 1Z"/></svg>' +
      '      Zavolejte mi' +
      '    </a>' +
      '  </div>' +
      '</div>';
    try { box.scrollIntoView({behavior:'smooth', block:'center'}); } catch(e){}
  };
})();
</script>
<script>
(function(){
  function ensureErrorBox(){
    var box = document.getElementById('formError');
    if (!box) {
      var c = document.getElementById('contact') || document.body;
      box = document.createElement('div');
      box.id = 'formError';
      box.className = 'notice notice--error';
      c.appendChild(box);
    }
    return box;
  }
  function esc(s){ return (s||'').replace(/[&<>"']/g, m=>({ '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m])); }

  window.hideGlobalError = function(){
    var box = document.getElementById('formError');
    if (box) { box.classList.add('hidden'); box.innerHTML = ''; }
  };

  window.showGlobalError = function(reason){
    var box = ensureErrorBox();
    box.classList.remove('hidden');
    box.innerHTML =
      '<div class="error-box" role="alert" aria-live="assertive">' +
      '  <strong>Oops, něco se nepovedlo.</strong>' +
      (reason ? ('<div class="muted" style="margin:.25rem 0 .5rem 0;">'+ esc(reason) +'</div>') : '') +
      '  <div class="error-actions">' +
      '    <a class="btn-ghost btn-mail" href="mailto:mholy1983@gmail.com">' +
      '      <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M20 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Zm0 4-8 5L4 8V6l8 5 8-5Z"/></svg>' +
      '      Napište mi' +
      '    </a>' +
      '    <a class="btn-ghost btn-tel" href="tel:+420792305456">' +
      '      <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M6.6 10.8a15.1 15.1 0 0 0 6.6 6.6l2.2-2.2a1 1 0 0 1 1-.25 11.6 11.6 0 0 0 3.6.6 1 1 0 0 1 1 1v3.7a1 1 0 0 1-1 1A17.6 17.6 0 0 1 2.5 5a1 1 0 0 1 1-1H7a1 1 0 0 1 1 1 11.6 11.6 0 0 0 .6 3.6 1 1 0 0 1-.25 1Z"/></svg>' +
      '      Zavolejte mi' +
      '    </a>' +
      '  </div>' +
      '</div>';
    try { box.scrollIntoView({behavior:'smooth', block:'center'}); } catch(e){}
  };
})();
</script>
<script>
  window.SLOTS_API = 'https://n8n.replikanti.xyz/webhook/8b1f7b37-e65d-4546-a84a-2c51e7e8cbf5';
  window.SLOT_DURATION_MIN = 60; 
  window.USER_TZ = Intl.DateTimeFormat().resolvedOptions().timeZone || 'Europe/Prague';
</script>
<script>
(function(){
  var dateInput = document.getElementById('date');
  var modeInput = document.getElementById('mode');
  var slotsEl   = document.getElementById('slots');
  var slotInput = document.getElementById('slot');
  var slotHelp  = document.getElementById('slotHelp');

  if (!dateInput || !modeInput || !slotsEl || !slotInput) return;

  var SLOTS_API = (window.SLOTS_API) || null;
  var USER_TZ = window.USER_TZ || (Intl.DateTimeFormat().resolvedOptions().timeZone || 'Europe/Prague');
  var SLOT_DURATION_MIN = (typeof window.SLOT_DURATION_MIN === 'number') ? window.SLOT_DURATION_MIN : 60;

  function clearSlots(message){
    slotsEl.innerHTML = '';
    slotInput.value = '';
    if (slotHelp) slotHelp.textContent = message || '';
  }

  function showErr(msg){
    // hezký globální error, pokud existuje helper
    if (typeof window.showGlobalError === 'function') {
      window.showGlobalError(msg);
      return;
    }
    // jinak aspoň jednoduchá hláška do DOM
    var box = document.createElement('div');
    box.style.border = '2px solid #ef4444';
    box.style.borderRadius = '12px';
    box.style.padding = '10px';
    box.style.marginTop = '8px';
    box.innerHTML = '<strong style="color:#ef4444">Chyba:</strong> ' + (msg||'') +
      '<div style="margin-top:6px;display:flex;gap:8px;flex-wrap:wrap">' +
      '<a href="mailto:mholy1983@gmail.com" style="border:1px solid #1d4ed8;padding:8px 10px;border-radius:10px;text-decoration:none;color:#1d4ed8;font-weight:600">Napište mi</a>' +
      '<a href="tel:+420792305456" style="border:1px solid #16a34a;padding:8px 10px;border-radius:10px;text-decoration:none;color:#16a34a;font-weight:600">Zavolejte mi</a>' +
      '</div>';
    (document.getElementById('formError') || slotsEl.parentElement || document.body).appendChild(box);
  }

  async function fetchAndRenderSlots(dateStr){
    if (!dateStr) { clearSlots(''); return; }
    if (!SLOTS_API) { clearSlots(''); showErr('Sloty nelze načíst: SLOTS_API není nastaven.'); return; }

    slotsEl.innerHTML = '<p class="muted">Načítám volné časy…</p>';
    if (slotHelp) slotHelp.textContent = 'Načítám…';

    var params = new URLSearchParams({
      date: dateStr,
      duration: String(SLOT_DURATION_MIN),
      tz: USER_TZ,
      mode: (modeInput.value || 'remote')
    });

    try {
      var res = await fetch(SLOTS_API + '?' + params.toString(), { method: 'GET' });
      if (!res.ok) throw new Error('HTTP ' + res.status);
      var data = await res.json();
      var slots = (data && data.slots) || [];

      if (!slots.length) {
        clearSlots('');
        var empty = document.createElement('p');
        empty.className = 'muted';
        empty.textContent = 'Pro zvolené datum nejsou volné časy.';
        slotsEl.appendChild(empty);
        return;
      }

      clearSlots('Nalezeno: ' + slots.length);
      slots.forEach(function(s){
        var btn = document.createElement('button');
        btn.type = 'button';
        btn.className = 'slot';
        btn.setAttribute('role','option');
        btn.setAttribute('aria-pressed','false');
        btn.textContent = s.label || s.start || '—';
        btn.addEventListener('click', function(){
          [].forEach.call(slotsEl.querySelectorAll('.slot'), function(b){ b.setAttribute('aria-pressed','false'); });
          btn.setAttribute('aria-pressed','true');
          slotInput.value = s.start || s.value || '';
        });
        slotsEl.appendChild(btn);
      });
    } catch(e) {
      console.error(e);
      clearSlots('');
      var p = document.createElement('p');
      p.className = 'muted';
      p.textContent = 'Nepodařilo se načíst sloty.';
      slotsEl.appendChild(p);
      showErr('Načítání slotů z n8n selhalo.');
    }
  }

  // Po potvrzení data náš kalendář fallback už volá: dateInput.dispatchEvent(new Event('change'))});
  // Při změně Remote/Onsite refresh pro již vybrané datum});
})();
</script>
<script>
(function(){
  var dateInput = document.getElementById('date');
  var modeInput = document.getElementById('mode');
  if (!dateInput || !modeInput || typeof fetchAndRenderSlots !== 'function') return;

  dateInput.addEventListener('change', function(){
    fetchAndRenderSlots(dateInput.value);
  });

  modeInput.addEventListener('change', function(){
    if (dateInput.value) fetchAndRenderSlots(dateInput.value);
  });
})();
</script>
<script>
  const SLOTS_API = 'https://n8n.replikanti.xyz/webhook/8b1f7b37-e65d-4546-a84a-2c51e7e8cbf5';
  const SLOT_DURATION_MIN = 60;
  const USER_TZ = Intl.DateTimeFormat().resolvedOptions().timeZone || 'Europe/Prague';
</script>
<script>
(function(){
  function ensureErrorBox(){
    var box = document.getElementById('formError');
    if (!box) {
      var c = document.getElementById('contact') || document.body;
      box = document.createElement('div');
      box.id = 'formError';
      box.className = 'notice notice--error';
      c.appendChild(box);
    }
    return box;
  }
  function esc(s){ return (s||'').replace(/[&<>"']/g, m=>({ '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m])); }

  window.hideGlobalError = function(){
    var box = document.getElementById('formError');
    if (box) { box.classList.add('hidden'); box.innerHTML = ''; }
  };

  window.showGlobalError = function(reason){
    var box = ensureErrorBox();
    box.classList.remove('hidden');
    box.innerHTML =
      '<div class="error-box" role="alert" aria-live="assertive">' +
      '  <strong>Oops, něco se nepovedlo.</strong>' +
      (reason ? ('<div class="muted" style="margin:.25rem 0 .5rem 0;">'+ esc(reason) +'</div>') : '') +
      '  <div class="error-actions">' +
      '    <a class="btn-ghost btn-mail" href="mailto:mholy1983@gmail.com">' +
      '      <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M20 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Zm0 4-8 5L4 8V6l8 5 8-5Z"/></svg>' +
      '      Napište mi' +
      '    </a>' +
      '    <a class="btn-ghost btn-tel" href="tel:+420792305456">' +
      '      <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M6.6 10.8a15.1 15.1 0 0 0 6.6 6.6l2.2-2.2a1 1 0 0 1 1-.25 11.6 11.6 0 0 0 3.6.6 1 1 0 0 1 1 1v3.7a1 1 0 0 1-1 1A17.6 17.6 0 0 1 2.5 5a1 1 0 0 1 1-1H7a1 1 0 0 1 1 1 11.6 11.6 0 0 0 .6 3.6 1 1 0 0 1-.25 1Z"/></svg>' +
      '      Zavolejte mi' +
      '    </a>' +
      '  </div>' +
      '</div>';
    try { box.scrollIntoView({behavior:'smooth', block:'center'}); } catch(e){}
  };
})();
</script>
<script>
(function(){
  // Přímé uchopení prvků (používáme existující ID)
  var dateInput = document.getElementById('date');
  var modeInput = document.getElementById('mode');
  var slotsEl   = document.getElementById('slots');
  var slotInput = document.getElementById('slot');
  var slotHelp  = document.getElementById('slotHelp');

  if (!dateInput || !modeInput || !slotsEl || !slotInput) return;

  // Přepíšeme existující renderSlots() moderní verzí s GET → n8n
  window.renderSlots = async function renderSlots(){
    const dateStr = dateInput.value;
    const mode = (modeInput.value || "remote");
    const slotsBox = slotsEl;
    const helpEl = slotHelp;

    slotsBox.innerHTML = "";
    slotInput.value = "";
    if (!dateStr) { if (helpEl) helpEl.textContent = ""; return; }

    if (typeof window.hideGlobalError === "function") window.hideGlobalError();
    slotsBox.innerHTML = '<p class="muted">Načítám volné časy…</p>';
    if (helpEl) helpEl.textContent = 'Načítám…';

    try {
      if (typeof window.SLOTS_API === "undefined" || !window.SLOTS_API) {
        slotsBox.innerHTML = "";
        if (typeof window.showGlobalError === "function") window.showGlobalError("Sloty nelze načíst: SLOTS_API není nastaven.");
        return;
      }
      const duration = (typeof window.SLOT_DURATION_MIN === 'number') ? window.SLOT_DURATION_MIN : 60;
      const tz = window.USER_TZ || (Intl.DateTimeFormat().resolvedOptions().timeZone || 'Europe/Prague');
      const params = new URLSearchParams({ date: dateStr, duration: String(duration), tz, mode });

      const res = await fetch(window.SLOTS_API + '?' + params.toString(), { method: 'GET' });
      if (!res.ok) throw new Error('HTTP ' + res.status);
      const data = await res.json();
      const slots = (data && (data.slots || data.items || [])) || [];

      slotsBox.innerHTML = "";
      if (!slots.length) {
        const p = document.createElement('p');
        p.className = 'muted';
        p.textContent = 'Pro zvolené datum nejsou volné časy.';
        slotsBox.appendChild(p);
        if (typeof window.showGlobalError === 'function') window.showGlobalError('Pro zvolené datum nejsou v kalendáři žádné volné sloty.');
        return;
      }

      // vykreslení tlačítek slotů
      slots.forEach(function(s){
        const btn = document.createElement('button');
        btn.type = 'button';
        btn.className = 'slot';
        btn.setAttribute('role','option');
        btn.setAttribute('aria-pressed','false');
        const label = s.label || s.start || s.time || '—';
        const value = s.value || s.start || s.time || '';
        btn.textContent = label;
        btn.addEventListener('click', function(){
          [].forEach.call(slotsBox.querySelectorAll('.slot'), function(b){ b.setAttribute('aria-pressed','false'); });
          btn.setAttribute('aria-pressed','true');
          slotInput.value = value;
        });
        slotsBox.appendChild(btn);
      });
    } catch (e) {
      console.error(e);
      slotsBox.innerHTML = "";
      const p = document.createElement('p');
      p.className = 'muted';
      p.textContent = 'Nepodařilo se načíst sloty.';
      slotsBox.appendChild(p);
      if (typeof window.showGlobalError === 'function') window.showGlobalError('Načítání slotů z n8n selhalo.');
    }
  };

  // Jistota: pokud by chyběly listenery, dopojíme je (nepřidáme duplicitně)
  (function attachOnce(){
    try {
      // hlídej změnu data
      if (!dateInput.__hasSlotChange) {
        dateInput.addEventListener('change', function(){ window.renderSlots(); });
        dateInput.__hasSlotChange = true;
      }
      // při změně Remote/Onsite znovu načti, pokud je datum
      if (!modeInput.__hasModeChange) {
        modeInput.addEventListener('change', function(){
          if (dateInput.value) window.renderSlots();
        });
        modeInput.__hasModeChange = true;
      }
    } catch(e){}
  })();
})();
</script>
</body>
</html>
